# 수동 운전
<ManualScreen>:
    name: 'manual'

    # 페이지 메인 레이아웃
    StackLayout:
        orientation: 'lr-tb'
        size_hint: 1, 1

        # 페이지 내용 레이아웃
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: 0.9
            spacing: 5
            padding: 5

            # 헤드라인
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: 0.1

                Label:
                    text: "ST01 LOADING"
                    font_name: 'NanumGothic'
                    bold: True
                    halign: "left"
                    valign: "middle"
                    text_size: self.size

                Label:
                    id: runtime_txt
                    text: "공정시간: 0.0"
                    font_name: 'NanumGothic'
                    bold: True
                    halign: "right"
                    valign: "middle"
                    text_size: self.size

            # 운전 관련
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: 0.2

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_x: 0.2

                    Label:
                        text: "운전 모드"
                        font_name: 'NanumGothic'
                        bold: True

                    BoxLayout:
                        orientation: 'vertical'
                        padding: 5

                        Button:
                            text: "수동운전"
                            font_name: 'NanumGothic'
                            bold: True
                            on_press: root.change_mode()

                BoxLayout:
                    orientation: 'vertical'

                    Label:
                        text: "운전조작"
                        font_name: 'NanumGothic'
                        bold: True
                        halign: "center"
                        valign: "middle"
                        text_size: self.size

                    GridLayout:
                        cols: 4
                        padding: 5

                        Button:
                            text: "시작"
                            font_name: 'NanumGothic'
                            bold: True
                            on_press: root.start_process()

                        Button:
                            text: "정지"
                            font_name: 'NanumGothic'
                            bold: True
                            on_press: root.stop_process()

                        Button:
                            text: "원점"
                            font_name: 'NanumGothic'
                            bold: True
                            on_press: root.go_to_zeropoint()

                        Button:
                            text: "고장없음"
                            font_name: 'NanumGothic'
                            bold: True
                            on_press: root.check_breakdown()

            # FEEDER PART
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.3

                Label:
                    text: "FEEDER PART"
                    font_name: 'NanumGothic'
                    bold: True
                    size_hint_y: 0.14
                    halign: "center"
                    valign: "middle"
                    text_size: self.size

                StackLayout:
                    orientation: 'lr-tb'

                    RunBox:
                        size_hint_x: 0.25
                        title: "내륜 모터"
                        parent_page: root
                        type: "motor"
                        num: 1

                    RunBox:
                        size_hint_x: 0.25
                        title: "외륜 모터"
                        parent_page: root
                        type: "motor"
                        num: 2
                    
                    RunBox:
                        size_hint_x: 0.25
                        title: "브로워 SOL"
                        parent_page: root
                        type: "blower_sol"
                        num: 1

                StackLayout:
                    orientation: 'lr-tb'

                    StackLayout:
                        orientation: 'lr-tb'
                        size_hint_x: 0.5

                        Label:
                            text: "PUSHER"
                            font_name: 'NanumGothic'
                            bold: True
                            size_hint_y: 0.4
                            canvas.before:
                                Color:
                                    rgba: 0, 0, 1, 1
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                        GridLayout:
                            cols: 4
                            padding: 5

                            Button:
                                text: "위치(1)"
                                font_name: 'NanumGothic'
                                bold: True
                                on_press: root.on_first_size()

                            Button:
                                text: "위치(2)"
                                font_name: 'NanumGothic'
                                bold: True
                                on_press: root.on_second_size()

                            Button:
                                text: "위치(3)"
                                font_name: 'NanumGothic'
                                bold: True
                                on_press: root.on_third_size()

                            Button:
                                text: "위치(4)"
                                font_name: 'NanumGothic'
                                bold: True
                                on_press: root.on_fourth_size()

            # CONVEYOR PART
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.4

                Label:
                    text: "컨베어 PART"
                    font_name: 'NanumGothic'
                    bold: True
                    size_hint_y: 0.1
                    halign: "center"
                    valign: "middle"
                    text_size: self.size

                GridLayout:
                    cols: 4
                    rows: 3
                    spacing: 5
                    padding: 5

                    RunBox:
                        title: "취출#1 콘베어"
                        parent_page: root
                        type: "convayor"
                        num: 1

                    RunBox:
                        title: "취출#2 콘베어"
                        parent_page: root
                        type: "convayor"
                        num: 2

                    RunBox:
                        title: "취출#3 콘베어"
                        parent_page: root
                        type: "convayor"
                        num: 3

                    RunBox:
                        title: "취출#4 콘베어"
                        parent_page: root
                        type: "convayor"
                        num: 4

                    RunBox:
                        title: "취출#5 콘베어"
                        parent_page: root
                        type: "convayor"
                        num: 5

                    RunBox:
                        title: "취출#6 콘베어"
                        parent_page: root
                        type: "convayor"
                        num: 6

                    RunBox:
                        title: "취출#1 SOL"
                        parent_page: root
                        type: "sol"
                        num: 1

                    RunBox:
                        title: "취출#2 SOL"
                        parent_page: root
                        type: "sol"
                        num: 2

                    RunBox:
                        title: "취출#3 SOL"
                        parent_page: root
                        type: "sol"
                        num: 3

        # 화면 전환
        StackLayout:
            orientation: 'bt-rl'
            size_hint_x: 0.1
            padding: 5
            spacing: 5

            Button:
                text: "서보화면"
                font_name: 'NanumGothic'
                size_hint_y: 0.1
                color: 0, 0, 1, 1
                bold: True
                on_press: root.manager.current = 'servo'

            Button: 
                text: "시간설정"
                font_name: 'NanumGothic'
                size_hint_y: 0.1
                color: 0, 0, 1, 1
                bold: True
                on_press: root.manager.current = 'time'

            Label:
                text: "수동화면"
                font_name: 'NanumGothic'
                size_hint_y: 0.1
                color: 0, 0, 1, 1
                bold: True
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

            Button:
                text: "메인화면"
                font_name: 'NanumGothic'
                size_hint_y: 0.1
                color: 0, 0, 1, 1
                bold: True
                on_press: root.manager.current = 'main'