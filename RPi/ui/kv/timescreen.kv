# 시간 설정
<TimeScreen>:
    name: 'time'

    # 페이지 메인 레이아웃
    StackLayout:
        orientation: 'lr-tb'
        size_hint: 1, 1

        # 페이지 내용 레이아웃
        BoxLayout:
            orientation:'horizontal'
            size_hint_x: 0.9
            padding: 5
            spacing: 5

            # 왼쪽: 위치 박스들
            GridLayout:
                cols: 1
                padding: 5
                spacing: 5

                LocationBox:
                    title: "#1 위치"
                    option_name_1: "LOC_1 start"
                    option_name_2: "LOC_1 stop"
            
                LocationBox:
                    title: "#2 위치"
                    option_name_1: "LOC_2 start"
                    option_name_2: "LOC_2 stop"

                LocationBox:
                    title: "#3 위치"
                    option_name_1: "LOC_3 start"
                    option_name_2: "LOC_3 stop"

                LocationBox:
                    title: "#4 위치"
                    option_name_1: "LOC_4 start"
                    option_name_2: "LOC_4 stop"

            # 오른쪽: 사이즈 이동, 동작시간, 버튼들
            StackLayout:
                orientation: 'tb-lr'
                padding: 5
                spacing: 5

                LocationBox:
                    size_hint_y: 0.25
                    title: "사이즈 위치 이동"
                    text1: "사이즈 변경 시간"
                    text2: "사이즈 복귀 시간"

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: 0.5
                    
                    BoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: 0.1

                        Label:
                            text: ""
                            font_name: 'NanumGothic'
                            canvas.before:
                                Color:
                                    rgba: 0, 0, 1, 1
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                        Label:
                            text: "동작시간"
                            font_name: 'NanumGothic'
                            color: 1, 1, 1, 1
                            canvas.before:
                                Color:
                                    rgba: 0, 0, 1, 1
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                        Label:
                            text: "적용시간"
                            font_name: 'NanumGothic'
                            color: 1, 1, 1, 1
                            canvas.before:
                                Color:
                                    rgba: 0, 0, 1, 1
                                Rectangle:
                                    pos: self.pos
                                    size: self.size

                    TimeBox:
                        title: "취출#1 SOL"
                    
                    TimeBox:
                        title: "취출#2 SOL"

                    TimeBox:
                        title: "취출#3 SOL"

        # 화면 전환
        StackLayout:
            orientation: 'bt-rl'
            size_hint_x: 0.1
            padding: 5
            spacing: 5

            Button:
                text: "서보화면"
                font_name: 'NanumGothic'
                size_hint_y: 0.1
                color: 0, 0, 1, 1
                bold: True
                on_press: root.manager.current = 'servo'

            Label:
                text: "시간설정"
                font_name: 'NanumGothic'
                size_hint_y: 0.1
                color: 0, 0, 1, 1
                bold: True
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

            Button:
                text: "수동화면"
                font_name: 'NanumGothic'
                size_hint_y: 0.1
                color: 0, 0, 1, 1
                bold: True
                on_press: root.manager.current = 'manual'

            Button:
                text: "메인화면"
                font_name: 'NanumGothic'
                size_hint_y: 0.1
                color: 0, 0, 1, 1
                bold: True
                on_press: root.manager.current = 'main'

# 시간 설정용 템플릿
<LocationBox@BoxLayout>:
    orientation: 'vertical'
    title: "위치"
    text1: "브로워 동작 시간"
    text2: "브로워 정지 시간"
    option_name_1: "start"
    option_name_2: "stop"

    Label:
        text: root.title
        font_name: 'NanumGothic'
        size_hint_y: 0.3
        bold: True
        color: 1, 1, 1, 1
        canvas.before:
            Color:
                rgba: 0, 0, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

    GridLayout:
        cols: 2
        padding: 5
        spacing: 5

        Label:
            text: root.text1
            font_name: 'NanumGothic'
            halign: 'left'
            valign: 'middle'

        Button:
            text: "0.0 초"
            font_name: 'NanumGothic'
            background_normal: ""
            background_down: ""
            background_color: 0, 0, 0, 0
            color: 1, 1, 1, 1
            on_press: root.on_time_setting(self, root.option_name_1)

        Label:
            text: root.text2
            font_name: 'NanumGothic'
            halign: 'left'
            valign: 'middle'

        Button:
            text: "999.0 초"
            font_name: 'NanumGothic'
            background_normal: ""
            background_down: ""
            background_color: 0, 0, 0, 0
            color: 1, 1, 1, 1
            on_press: root.on_time_setting(self, root.option_name_2)